
# Table of Contents

1.  [Overview](#org2000448)
    1.  [Directory layout](#orgafa6906)
        1.  [Flow between folders](#org1d2b976)
    2.  [Edit `org` file](#orgb382248)
    3.  [Build and publish](#orgd9fa709)
        1.  [`gulp serve` - development webserver with watch](#org109e943)
        2.  [`gulp package` - create a ZIP](#org6f01855)
    4.  [Required tools](#orge93011e)
2.  [Details](#org4df416e)
    1.  [Tools used](#org5d77af9)
        1.  [`gulp` for building](#orgb7c28f5)
        2.  [`reveal.js` as presentation framework](#org4246934)
        3.  [`emacs` with `org-mode`, `org-babel`, `org-re-reveal` for writing/exporting](#orgc705194)
        4.  [`Docker` for transforming `org` to `html`](#orge27a9c5)
    2.  [Build targets](#org0b962ad)
3.  [Building this document](#orge7651b2)



<a id="org2000448"></a>

# Overview


<a id="orgafa6906"></a>

## Directory layout

-   **node<sub>modules</sub>:** [Modules](../package.json) installed via [npm](https://www.npmjs.com/). Copied to `build/js` via specific targets. TODO targets.
-   **src/:** Source files (*read-only* during build)
    -   **.:** files that will end up in `build/` via copy. [index.org](../src/index.md) is located here. TARGET TODO
    -   **img/:** images, will be copied to `build/img/.`. TARGETxxx TODO
    -   **js/:** JavaScript files, will be copied (and potentially minified & uglified) to `build/img`. TARGETxxx TODO
    -   **css/:** CSS files, will be copied (and potentially minified) to `build/css`. TARGETxxx TODO
    -   **scss/:** [SCSS](https://sass-lang.com/documentation/syntax) files, will be run through [Sass](https://sass-lang.com/) and copied (and potentially minified) to `build/css`. TARGETxxx TODO
-   **build/:** Root folder for all build related activities. E.g. the [building of index.org](#orgd9fa709) happens in here.
    -   **img/:** images, will be copied to `public/img/.`. TARGETxxx TODO
    -   **js/:** JavaScript files, will be copied to `public/js`. No further minification/uglification. TARGETxxx TODO
    -   **css/:** CSS files, will be copied (and potentially minified) to `public/css`. TARGETxxx TODO
-   **public/:** Root folder for the final build result. Can be served via [`gulp serve`](#org109e943) and packaged as a ZIP via  [`gulp package`](#org6f01855).
    -   **img/:** images
    -   **js/:** JavaScript files
    -   **css/:** CSS files


<a id="org1d2b976"></a>

### Flow between folders

![img](img/flow-between-folders.png)


<a id="orgb382248"></a>

## Edit `org` file


<a id="orgd9fa709"></a>

## Build and publish

The final version will be published into the `public/` directory. Calling `gulp` (or `gulp default`) will build the whole presentation.

`C-c C-e v v`

It is important that the presentation is viewed via `http(s)` since some JS libraries will not correctly work when served via the file system.


<a id="org109e943"></a>

### `gulp serve` - development webserver with watch

`gulp serve` will start a small webserver to view the results.


<a id="org6f01855"></a>

### `gulp package` - create a ZIP

`gulp package` will create a ZIP file of `public/**/*`.


<a id="orge93011e"></a>

## Required tools

-   **gulp:** Gulp is used for orchestrating the build
-   **Docker:** [index.org](../src/index.md) is compiled to html via [xuxxux/org-re-reveal-builder](https://hub.docker.com/repository/docker/xuxxux/org-re-reveal-builder) ([Dockerfile](../docker/Dockerfile))


<a id="org4df416e"></a>

# Details


<a id="org5d77af9"></a>

## Tools used


<a id="orgb7c28f5"></a>

### `gulp` for building

The build is automated via [gulp](https://gulpjs.com/docs/en/getting-started/quick-start/). The configuration is done via the [gulpfile.js](../gulpfile.js) and  NPMs [package.json](../package.json).

-   **gulpfile.json:** Contains the workflow. The goal is to keep the gulpfile static for a lot of projects.
-   **package.json:** Configures dependencies for build (`--save-dev`), runtime (`--save-prod`) and configuration like paths, urls, globs.


<a id="org4246934"></a>

### `reveal.js` as presentation framework

[reveal.js](https://revealjs.com/) 4.x is used as presentation framework.


<a id="orgc705194"></a>

### `emacs` with `org-mode`, `org-babel`, `org-re-reveal` for writing/exporting


<a id="orge27a9c5"></a>

### `Docker` for transforming `org` to `html`


<a id="org0b962ad"></a>

## Build targets


<a id="orge7651b2"></a>

# Building this document

[BUILD.md](BUILD.md) is generated by exporting [BUILD.org](BUILD.md) via `C-c C-e m m` (via `org-md-export-to-markdown`).

